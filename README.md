[![Release Notes][release-shield]][release-url]
[![Contributors][contributors-shield]][contributors-url]
[![Forks][forks-shield]][forks-url]
[![Stargazers][stars-shield]][stars-url]
[![Issues][issues-shield]][issues-url]
[![MIT License][license-shield]][license-url]

<!-- PROJECT LOGO -->
<br />
<div align="center">
  <a href="https://github.com/uglyboy-tl/UglyChain">
    <!-- <img src="images/logo.png" alt="Logo" width="80" height="80"> -->
  </a>

  <h3 align="center">UglyChain</h3>

  <p align="center">
    âš¡ UglyChainï¼šæ›´å¥½ç”¨çš„ LLM åº”ç”¨æ„å»ºå·¥å…· âš¡
    <br />
    <a href="https://uglychain.uglyboy.cn"><strong>Explore the docs Â»</strong></a>
    <br />
    <br />
    <a href="https://github.com/uglyboy-tl/UglyChain/issues">Report Bug</a>
    Â·
    <a href="https://github.com/uglyboy-tl/UglyChain/issues">Request Feature</a>
  </p>
</div>

## ğŸ¤” What is UglyChain?
ç°åœ¨æœ‰å¾ˆå¤šåˆ©ç”¨å¤§æ¨¡å‹ LLM è¿›è¡Œåº”ç”¨æ„å»ºçš„å·¥å…·ï¼Œæœ€æœ‰åçš„å°±æ˜¯ LangChainã€‚æ—©æœŸçš„ LangChain æ•´ä¸ªæ¡†æ¶å¹¶ä¸å®Œå–„ï¼Œå¾ˆå¤šå¹¶ä¸ç›´è§‚çš„å®šä¹‰å’Œè°ƒç”¨æ–¹å¼ï¼Œä»¥åŠå°†å†…éƒ¨åŠŸèƒ½å°è£…å¾—å¤ªå½»åº•ï¼Œä½¿çš„éš¾ä»¥å®šåˆ¶åŒ–çš„æ›´å……åˆ†çš„åˆ©ç”¨å¤§æ¨¡å‹çš„èƒ½åŠ›æ¥è§£å†³é—®é¢˜ã€‚æ‰€ä»¥æˆ‘å°±å¼€å‘çš„æœ€åˆçš„ UglyGPTï¼ˆUglyChainçš„åŸå‹ï¼‰ï¼Œè¯•å›¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

åˆ°äº†ä»Šå¤©ï¼ŒGPTs ä¹Ÿå·²ç»é¢ä¸–å¾ˆé•¿æ—¶é—´äº†ï¼Œä¹Ÿæœ‰äº†è¶Šæ¥è¶Šå¤šçš„ LLM åº”ç”¨æ„å»ºå·¥å…·ã€‚ä½†æ˜¯è¿™äº›å·¥å…·éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„é—®é¢˜ï¼š**ä¸å¤Ÿç›´è§‚**ã€‚
ä»åº•å±‚æ¥è¯´ï¼Œç°åœ¨çš„å¤§æ¨¡å‹æ˜¯åŸºäº Chat è¿›è¡Œæ¥å£äº¤äº’çš„ï¼Œè¿™å¯¹äºåº”ç”¨å¼€å‘è€Œè¨€å¹¶ä¸å‹å¥½ï¼Œå› ä¸ºåº”ç”¨å¼€å‘æ›´å¤šçš„æ˜¯æ¨¡æ¿åŒ–çš„ç»“æ„åŒ–å†…å®¹ç”Ÿæˆï¼Œè€Œä¸æ˜¯å¯¹è¯å¼çš„äº¤äº’ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯¹åº”ç”¨å¼€å‘æ›´åŠ å‹å¥½çš„æ¥å£ï¼Œè¿™å°±æ˜¯ UglyChain çš„åˆè¡·ã€‚

## Features

- ğŸ“¦ å¯¹å¤§æ¨¡å‹æ¥å£è¿›è¡Œå°è£…ï¼Œæä¾›å¯¹å·¥ç¨‹åŒ–æ›´åŠ ç›´è§‚æ˜“æ‡‚çš„äº¤äº’æ–¹å¼ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„å¯¹è¯å¼äº¤äº’ã€‚
  - å¯ä»¥å‚æ•°åŒ– Promptï¼Œæ›´åŠ æ–¹ä¾¿åœ°è¿›è¡Œæ‰¹é‡è°ƒç”¨
  - å¯ä»¥å¯¹ Prompt è¿›è¡Œç»“æ„åŒ–è¿”å›ï¼Œæ–¹ä¾¿åç»­å¤„ç†
  - å¯ä»¥å¯¹ Prompt è¿›è¡Œè§’è‰²è®¾ç½®ï¼Œæ–¹ä¾¿æ¨¡å‹è¿›è¡Œè§’è‰²æ‰®æ¼”ï¼ˆè¿™ä¸ªè¿‡ç¨‹æ— éœ€æ“æ§ Messageï¼‰
- ğŸ”— å¯¹å¤§æ¨¡å‹çš„é«˜çº§è°ƒç”¨è¿›è¡Œå°è£…ï¼Œæä¾›æ›´åŠ æ–¹ä¾¿çš„äº¤äº’æ–¹å¼
  - æä¾›äº†ç±»ä¼¼äº MapReduce çš„åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ MapChain å¯¹å¤šä¸ª Prompt è¿›è¡Œå¹¶è¡Œè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨ ReduceChain å¯¹å¤šä¸ª Prompt è¿›è¡Œä¸²è¡Œè°ƒç”¨
  - å¤§æ¨¡å‹æœ€ä¼˜è´¨çš„èƒ½åŠ›ä¹‹ä¸€å°±æ˜¯æ‹¥æœ‰ ReAct èƒ½åŠ›ã€‚æˆ‘ä»¬æä¾›äº† ReActChain ä¾¿æ·çš„å®ç°è¿™ç§èƒ½åŠ›ã€‚
- ğŸ’¾ æä¾›äº†æœç´¢å¼•æ“çš„å°è£…ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œæœç´¢å¼•æ“çš„è°ƒç”¨ã€‚
  - æ³¨æ„æˆ‘ä»¬åªå°è£…äº†æœç´¢è¿‡ç¨‹çš„è°ƒç”¨ï¼Œè€Œæ²¡æœ‰æä¾›æœç´¢å¼•æ“çš„æ­å»ºã€‚å¦‚æœè¦æ„å»ºåŸºäº RAG çš„åº”ç”¨ï¼Œéœ€è¦åˆ©ç”¨å…¶ä»–çš„å·¥å…·å®Œæˆèµ„æ–™åº“çš„å»ºç«‹ï¼Œè€Œæˆ‘ä»¬åªæä¾›å¯¹èµ„æ–™åº“æœç´¢åŠŸèƒ½çš„å°è£…ã€‚

## Getting Started

With pip:

```bash
pip install uglychain
```

## Usage

### LLM

> è¿™æ˜¯æœ€åŸºç¡€çš„æ¨¡å‹è°ƒç”¨ç±»ï¼Œå…¶ä»–çš„é«˜çº§ç±»ä¹Ÿéƒ½ç»§æ‰¿å’Œä½¿ç”¨äº†è¿™ä¸ªç±»çš„åŸºæœ¬åŠŸèƒ½ã€‚

å¿«é€Ÿä½¿ç”¨ï¼š

```python
from uglychain import LLM, Model

llm = LLM()
print(llm("ä½ æ˜¯è°ï¼Ÿ")) # ä¸æ¨¡å‹å¯¹è¯ï¼Œè¿”å›å­—ç¬¦ä¸²çš„å›ç­”
```

è°ƒæ•´åŸºç¡€é…ç½®é€‰é¡¹ï¼š

```python
llm = LLM(model = Model.YI) # å¯ä»¥é€‰æ‹©æ›´å¤šçš„æ¨¡å‹ï¼Œå¦‚ Model.GPT3_TURBOã€Model.GPT4 ç­‰ç­‰
llm = LLM(system_prompt = "æˆ‘æƒ³è®©ä½ æ‹…ä»»èŒä¸šé¡¾é—®ã€‚æˆ‘å°†ä¸ºæ‚¨æä¾›ä¸€ä¸ªåœ¨èŒä¸šç”Ÿæ¶¯ä¸­å¯»æ±‚æŒ‡å¯¼çš„äººï¼Œæ‚¨çš„ä»»åŠ¡æ˜¯å¸®åŠ©ä»–ä»¬æ ¹æ®è‡ªå·±çš„æŠ€èƒ½ã€å…´è¶£å’Œç»éªŒç¡®å®šæœ€é€‚åˆçš„èŒä¸šã€‚æ‚¨è¿˜åº”è¯¥å¯¹å¯ç”¨çš„å„ç§é€‰é¡¹è¿›è¡Œç ”ç©¶ï¼Œè§£é‡Šä¸åŒè¡Œä¸šçš„å°±ä¸šå¸‚åœºè¶‹åŠ¿ï¼Œå¹¶å°±å“ªäº›èµ„æ ¼å¯¹è¿½æ±‚ç‰¹å®šé¢†åŸŸæœ‰ç›Šæå‡ºå»ºè®®ã€‚") # å¯ä»¥å¯¹æ¨¡å‹è®¾ç½®è§’è‰²ï¼Œè¿™æ ·æ¨¡å‹å°±ä¼šä»¥è¿™ä¸ªè§’è‰²çš„è§†è§’æ¥å›ç­”é—®é¢˜ã€‚è®¾ç½®çš„å†…å®¹ä¿å­˜åœ¨ System Message ä¸­ã€‚
```

å‚æ•°åŒ– promptï¼š

```python
llm = LLM(prompt_template = "{object}çš„{position}æ˜¯è°ï¼Ÿ")
print(llm(object = "ã€Šçº¢æ¥¼æ¢¦ã€‹", position = "ä½œè€…"))
print(llm(object = "ä¸Šæµ·å¸‚", position = "å¸‚é•¿"))
```

å¯¹äº prompt ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°çš„æƒ…å†µï¼Œå¯ä»¥ç›´æ¥ä¼ å…¥å‚æ•°ï¼š

```python
llm = LLM("ä»‹ç»ä¸€ä¸‹{object}")
print(llm("Transformer"))
```

ç»“æ„åŒ–è¿”å›ç»“æœï¼š

```python
class UserDetail(BaseModel):
    name: str
    age: int

llm = LLM(response_model=UserDetail)
print(llm("Extract Jason is 25 years old")) # UserDetail(name='Jason', age=25)
```

### MapChain

> è¿™æ˜¯ä¸€ä¸ªå¯ä»¥å¹¶è¡Œå¯¹åŒç±»å‹ Prompt è¿›è¡Œè°ƒç”¨çš„ç±»ï¼Œå¯ä»¥å¤§å¤§æé«˜è°ƒç”¨æ•ˆç‡ã€‚

å¿«é€Ÿä½¿ç”¨ï¼š

```python
from uglychain import MapChain

llm = MapChain()
print(llm([
        {"input": "How old are you?"},
        {"input": "What is the meaning of life?"},
        {"input": "What is the hottest day of the year?"},
    ]))
```

ç±»ä¼¼äº LLMï¼Œä¹Ÿå¯ä»¥å¯¹ MapChain è¿›è¡Œæ›´é«˜é˜¶çš„ä½¿ç”¨ï¼š

```python
class AUTHOR(BaseModel):
    name: str = Field(..., description="å§“å")
    introduction: str = Field(..., description="ç®€ä»‹")

llm = MapChain(prompt_template="{book}çš„{position}æ˜¯è°ï¼Ÿ", response_model=AUTHOR, map_keys=["book",])
input = [
    "ã€Šçº¢æ¥¼æ¢¦ã€‹",
    "ã€Šè¥¿æ¸¸è®°ã€‹",
    "ã€Šä¸‰å›½æ¼”ä¹‰ã€‹",
    "ã€Šæ°´æµ’ä¼ ã€‹",
]
print(llm(book=input, position="ä½œè€…"))
```

## Roadmap

- [x] å¢åŠ  FunctionCall çš„èƒ½åŠ›
- [ ] å¢åŠ  Memory çš„èƒ½åŠ›

## Contributing

Contributions are what make the open source community such an amazing place to learn, inspire, and create. Any contributions you make are **greatly appreciated**.

If you have a suggestion that would make this better, please fork the repo and create a pull request. You can also simply open an issue with the tag "enhancement".
Don't forget to give the project a star! Thanks again!

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## License

Distributed under the MIT License. See `LICENSE.txt` for more information.

<!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
[release-shield]:https://img.shields.io/github/release/uglyboy-tl/UglyChain.svg?style=for-the-badge
[release-url]: https://github.com/uglyboy-tl/UglyChain/releases
[contributors-shield]: https://img.shields.io/github/contributors/uglyboy-tl/UglyChain.svg?style=for-the-badge
[contributors-url]: https://github.com/uglyboy-tl/UglyChain/graphs/contributors
[forks-shield]: https://img.shields.io/github/forks/uglyboy-tl/UglyChain.svg?style=for-the-badge
[forks-url]: https://github.com/uglyboy-tl/UglyChain/network/members
[stars-shield]: https://img.shields.io/github/stars/uglyboy-tl/UglyChain.svg?style=for-the-badge
[stars-url]: https://github.com/uglyboy-tl/UglyChain/stargazers
[issues-shield]: https://img.shields.io/github/issues/uglyboy-tl/UglyChain.svg?style=for-the-badge
[issues-url]: https://github.com/uglyboy-tl/UglyChain/issues
[license-shield]: https://img.shields.io/github/license/uglyboy-tl/UglyChain.svg?style=for-the-badge
[license-url]: https://github.com/uglyboy-tl/UglyChain/blob/master/LICENSE.txt