[![Release Notes][release-shield]][release-url]
[![Contributors][contributors-shield]][contributors-url]
[![Forks][forks-shield]][forks-url]
[![Stargazers][stars-shield]][stars-url]
[![Issues][issues-shield]][issues-url]
[![MIT License][license-shield]][license-url]

<!-- PROJECT LOGO -->
<br />
<div align="center">
  <a href="https://github.com/uglyboy-tl/UglyChain">
    <!-- <img src="images/logo.png" alt="Logo" width="80" height="80"> -->
  </a>

  <h3 align="center">UglyChain</h3>

  <p align="center">
    âš¡ UglyChainï¼šæ›´å¥½ç”¨çš„ LLM åº”ç”¨æ„å»ºå·¥å…· âš¡
    <br />
    <a href="https://uglychain.uglyboy.cn"><strong>Explore the docs Â»</strong></a>
    <br />
    <br />
    <a href="https://github.com/uglyboy-tl/UglyChain/issues">Report Bug</a>
    Â·
    <a href="https://github.com/uglyboy-tl/UglyChain/issues">Request Feature</a>
  </p>
</div>

## ğŸ¤” What is UglyChain?
ç°åœ¨æœ‰å¾ˆå¤šåˆ©ç”¨å¤§æ¨¡å‹ LLM è¿›è¡Œåº”ç”¨æ„å»ºçš„å·¥å…·ï¼Œæœ€æœ‰åçš„å°±æ˜¯ LangChainã€‚æ—©æœŸçš„ LangChain æ•´ä¸ªæ¡†æ¶å¹¶ä¸å®Œå–„ï¼Œå¾ˆå¤šå¹¶ä¸ç›´è§‚çš„å®šä¹‰å’Œè°ƒç”¨æ–¹å¼ï¼Œä»¥åŠå°†å†…éƒ¨åŠŸèƒ½å°è£…å¾—å¤ªå½»åº•ï¼Œä½¿çš„éš¾ä»¥å®šåˆ¶åŒ–çš„æ›´å……åˆ†çš„åˆ©ç”¨å¤§æ¨¡å‹çš„èƒ½åŠ›æ¥è§£å†³é—®é¢˜ã€‚æ‰€ä»¥æˆ‘å°±å¼€å‘çš„æœ€åˆçš„ UglyGPTï¼ˆUglyChainçš„åŸå‹ï¼‰ï¼Œè¯•å›¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

åˆ°äº†ä»Šå¤©ï¼ŒGPTs ä¹Ÿå·²ç»é¢ä¸–å¾ˆé•¿æ—¶é—´äº†ï¼Œä¹Ÿæœ‰äº†è¶Šæ¥è¶Šå¤šçš„ LLM åº”ç”¨æ„å»ºå·¥å…·ã€‚ä½†æ˜¯è¿™äº›å·¥å…·éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„é—®é¢˜ï¼š**ä¸å¤Ÿç›´è§‚**ã€‚
ä»åº•å±‚æ¥è¯´ï¼Œç°åœ¨çš„å¤§æ¨¡å‹æ˜¯åŸºäº Chat è¿›è¡Œæ¥å£äº¤äº’çš„ï¼Œè¿™å¯¹äºåº”ç”¨å¼€å‘è€Œè¨€å¹¶ä¸å‹å¥½ï¼Œå› ä¸ºåº”ç”¨å¼€å‘æ›´å¤šçš„æ˜¯æ¨¡æ¿åŒ–çš„ç»“æ„åŒ–å†…å®¹ç”Ÿæˆï¼Œè€Œä¸æ˜¯å¯¹è¯å¼çš„äº¤äº’ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯¹åº”ç”¨å¼€å‘æ›´åŠ å‹å¥½çš„æ¥å£ï¼Œè¿™å°±æ˜¯ UglyChain çš„åˆè¡·ã€‚

## Features
æ„Ÿè°¢ [aisuite](https://github.com/andrewyng/aisuite) é¡¹ç›®ï¼Œä¸º UglyChain çš„å¼€å‘æä¾›äº†å¯¹åŸå§‹ LLM æ¥å£çš„åˆæ­¥å°è£…ã€‚æ„Ÿè°¢ [ell](https://docs.ell.so/) é¡¹ç›®ï¼ŒUglyChain çš„è®¾è®¡ä¸»è¦å€Ÿé‰´äº† ell çš„ â€œPrompts are programs, not stringsâ€ æ€æƒ³ï¼Œå‚è€ƒå…¶ä¿®é¥°å™¨çš„å®ç°æ€è·¯ï¼Œè¿›ä¸€æ­¥å®ç°äº† mapchainã€ç»“æ„åŒ–è¾“å‡º å’Œ ReActChain ç­‰åŠŸèƒ½ã€‚

- ğŸ“¦ å¯¹å¤§æ¨¡å‹æ¥å£è¿›è¡Œå°è£…ï¼Œæä¾›å¯¹å·¥ç¨‹åŒ–æ›´åŠ ç›´è§‚æ˜“æ‡‚çš„äº¤äº’æ–¹å¼ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„å¯¹è¯å¼äº¤äº’ã€‚
  - å¯ä»¥å‚æ•°åŒ– Promptï¼Œæ›´åŠ æ–¹ä¾¿åœ°è¿›è¡Œæ‰¹é‡è°ƒç”¨
  - å¯ä»¥å¯¹ Prompt è¿›è¡Œç»“æ„åŒ–è¿”å›ï¼Œæ–¹ä¾¿åç»­å¤„ç†
- ğŸ”— å¯¹å¤§æ¨¡å‹çš„é«˜çº§è°ƒç”¨è¿›è¡Œå°è£…ï¼Œæä¾›æ›´åŠ æ–¹ä¾¿çš„äº¤äº’æ–¹å¼
  - å¯ä»¥é€šè¿‡ @llm çš„ map_key å¯¹å¤šä¸ª Prompt è¿›è¡Œå¹¶è¡Œè°ƒç”¨;
  - å¤§æ¨¡å‹æœ€ä¼˜è´¨çš„èƒ½åŠ›ä¹‹ä¸€å°±æ˜¯æ‹¥æœ‰ ReAct èƒ½åŠ›ã€‚æˆ‘ä»¬æä¾›äº† @react ä¾¿æ·çš„å®ç°è¿™ç§èƒ½åŠ›ã€‚

## Getting Started

With pip:

```bash
pip install uglychain
```

## Usage

### llm

> è¿™æ˜¯ä¸€ä¸ªåŸºç¡€çš„ä¿®é¥°å™¨ï¼Œå¯ä»¥æ–¹ä¾¿çš„å¯¹ LLM è¿›è¡Œä¿®é¥°ï¼Œä½¿å¾—è°ƒç”¨æ›´åŠ æ–¹ä¾¿ã€‚

å¿«é€Ÿä½¿ç”¨ï¼š

```python
from uglychain import llm

@llm(model="openai:gpt-4o-mini", temperature=0.1)
def hello(world : str):
    """You are a helpful assistant that writes in lower case.""" # System Message
    return f"Say hello to {world[::-1]} with a poem."    # User Message

hello("sama")
```

ç»“æ„åŒ–è¿”å›ç»“æœï¼š

```python
class UserDetail(BaseModel):
    name: str
    age: int

@llm("openai:gpt-4o-mini", response_format=UserDetail)
def test(name: str):
    return f"{name} is a boy"

test("Bob")
```

### MapChain

> é€šè¿‡ map_keys å¯ä»¥å¯¹æ¨¡å‹è¿›è¡Œæ‰¹é‡è°ƒç”¨ï¼Œå¹¶è¿”å›å¤šä¸ªç»“æœã€‚å¦‚æœåœ¨ config.use_parallel_processing ä¸­è®¾ç½®ä¸º Trueï¼Œåˆ™ä¼šä½¿ç”¨å¤šè¿›ç¨‹è¿›è¡Œå¹¶è¡Œè°ƒç”¨ã€‚

å¿«é€Ÿä½¿ç”¨ï¼š

```python
@llm("openai:gpt-4o-mini", map_keys=["input"])
def map(input: list[str]):
    return input

input = [
    "How old are you?",
    "What is the meaning of life?",
    "What is the hottest day of the year?",
]
for item in map(input):
    print(item)
```

ç±»ä¼¼äº LLMï¼Œä¹Ÿå¯ä»¥å¯¹ MapChain è¿›è¡Œæ›´é«˜é˜¶çš„ä½¿ç”¨ï¼š

```python
class AUTHOR(BaseModel):
    name: str = Field(..., description="å§“å")
    introduction: str = Field(..., description="ç®€ä»‹")

@llm("openai:gpt-4o-mini", map_keys=["book"], response_format=AUTHOR)
def map(book: list[str], position: str):
    return f"{book}çš„{position}æ˜¯è°ï¼Ÿ"

input = [
    "ã€Šçº¢æ¥¼æ¢¦ã€‹",
    "ã€Šè¥¿æ¸¸è®°ã€‹",
    "ã€Šä¸‰å›½æ¼”ä¹‰ã€‹",
    "ã€Šæ°´æµ’ä¼ ã€‹",
]
map(book=input, position="ä½œè€…") # è¿”å›çš„æ˜¯AUTHORå¯¹è±¡çš„åˆ—è¡¨
```

### ReActChain
> ReActChain æ˜¯ä½¿ç”¨ ReAct èƒ½åŠ›è¿›è¡Œå·¥å…·è°ƒç”¨çš„ä¸€ç§æ–¹æ³•ï¼Œå…¶æ•ˆæœåŸå¥½äºä¼ ç»Ÿçš„ Function Call çš„æ–¹å¼ã€‚

```python
from uglychain import react
from examples.utils import execute_command

@react("openai:gpt-4o-mini", tools = [execute_command])
def update():
    return "æ›´æ–°æˆ‘çš„ç”µè„‘ç³»ç»Ÿ"

update() # è‡ªåŠ¨è¿è¡Œ shell å‘½ä»¤ï¼Œæ¥æ›´æ–°ç³»ç»Ÿ
```

## Contributing

Contributions are what make the open source community such an amazing place to learn, inspire, and create. Any contributions you make are **greatly appreciated**.

If you have a suggestion that would make this better, please fork the repo and create a pull request. You can also simply open an issue with the tag "enhancement".
Don't forget to give the project a star! Thanks again!

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## License

Distributed under the MIT License. See `LICENSE.txt` for more information.

<!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
[release-shield]:https://img.shields.io/github/release/uglyboy-tl/UglyChain.svg?style=for-the-badge
[release-url]: https://github.com/uglyboy-tl/UglyChain/releases
[contributors-shield]: https://img.shields.io/github/contributors/uglyboy-tl/UglyChain.svg?style=for-the-badge
[contributors-url]: https://github.com/uglyboy-tl/UglyChain/graphs/contributors
[forks-shield]: https://img.shields.io/github/forks/uglyboy-tl/UglyChain.svg?style=for-the-badge
[forks-url]: https://github.com/uglyboy-tl/UglyChain/network/members
[stars-shield]: https://img.shields.io/github/stars/uglyboy-tl/UglyChain.svg?style=for-the-badge
[stars-url]: https://github.com/uglyboy-tl/UglyChain/stargazers
[issues-shield]: https://img.shields.io/github/issues/uglyboy-tl/UglyChain.svg?style=for-the-badge
[issues-url]: https://github.com/uglyboy-tl/UglyChain/issues
[license-shield]: https://img.shields.io/github/license/uglyboy-tl/UglyChain.svg?style=for-the-badge
[license-url]: https://github.com/uglyboy-tl/UglyChain/blob/master/LICENSE.txt
